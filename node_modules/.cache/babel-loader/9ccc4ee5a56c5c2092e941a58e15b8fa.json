{"ast":null,"code":"import _classCallCheck from \"/home/miarisoa/Documents/projet/my-shope/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/miarisoa/Documents/projet/my-shope/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/miarisoa/Documents/projet/my-shope/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/miarisoa/Documents/projet/my-shope/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/miarisoa/Documents/projet/my-shope/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/miarisoa/Documents/projet/my-shope/src/components/PostForm.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nvar PostForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PostForm, _Component);\n\n  function PostForm() {\n    var _this;\n\n    _classCallCheck(this, PostForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PostForm).call(this));\n\n    _this.handleSubmit = function (e) {\n      _this.setState({\n        nb: _this.state.nb + 1\n      });\n\n      var produit = _this.getProduit.value;\n      var prix = _this.getPrix.value;\n      var description = _this.getDescription.value;\n      var somme = new Intl.NumberFormat('de-DE').format(prix);\n      var data = {\n        id: new Date(),\n        nb: _this.state.nb,\n        produit: produit,\n        somme: somme,\n        description: description\n      };\n\n      _this.props.dispatch({\n        type: 'ADD_POST',\n        data: data\n      });\n\n      _this.getProduit.value = '';\n      _this.getPrix.value = '';\n      _this.getDescription.value = '';\n      console.log(data);\n    };\n\n    _this.state = {\n      nb: 0,\n      file: '',\n      imagePreviewUrl: '',\n      value: 'Please write an essay about your favorite DOM element.'\n    };\n    return _this;\n  }\n\n  _createClass(PostForm, [{\n    key: \"_handleImageChange\",\n    value: function _handleImageChange(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var reader = new FileReader();\n      var file = e.target.files[0];\n\n      reader.onloadend = function () {\n        _this2.setState({\n          file: file,\n          imagePreviewUrl: reader.result\n        });\n      };\n\n      reader.readAsDataURL(file);\n      console.log('file : ', file); // console.log('frad : ', reader);\n      //console.log('reader : ', reader.readAsDataURL(file));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var imagePreviewUrl = this.state.imagePreviewUrl; //let $imagePreview = null;\n\n      console.log('imagePreviewUrl : ', imagePreviewUrl);\n\n      if (imagePreviewUrl) {//$imagePreview = (<img src={imagePreviewUrl} />);\n      } else {//$imagePreview = (<div className=\"previewText\">Please select an Image for Preview</div>);\n        }\n\n      return React.createElement(\"center\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(event) {\n          event.preventDefault();\n          if (!_this3.getProduit.value || !_this3.getPrix.value) return;\n\n          if (isNaN(_this3.getPrix.value)) {\n            var err = document.getElementById('erreur');\n            err.innerHTML = 'Entrer un nombre';\n          } else {\n            _this3.handleSubmit();\n\n            var err1 = document.getElementById('erreur');\n            err1.innerHTML = '';\n          } //document.getElementById('imgPreview').innerHTML  = $imagePreview\n\n        },\n        className: 'nom',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: 'label',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Produit\")), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        required: true,\n        type: \"text\",\n        ref: function ref(input) {\n          return _this3.getProduit = input;\n        },\n        className: 'input1',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: 'label',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Prix\")), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        required: true,\n        type: \"text\",\n        ref: function ref(input) {\n          return _this3.getPrix = input;\n        },\n        className: 'input1',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: 'label',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Description\")), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        id: \"erreur\",\n        className: 'erreur',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }), React.createElement(\"textarea\", {\n        rows: \"3\",\n        required: true,\n        type: \"text\",\n        ref: function ref(input) {\n          return _this3.getDescription = input;\n        },\n        className: 'input1',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        colSpan: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"fileInput\",\n        type: \"file\",\n        style: \"visibility:hidden;\",\n        onChange: function onChange(e) {\n          return _this3._handleImageChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        colSpan: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: 'ajout btn btn-primary',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, \"Ajouter\"))))));\n    }\n  }]);\n\n  return PostForm;\n}(Component);\n\nexport default connect()(PostForm);","map":{"version":3,"sources":["/home/miarisoa/Documents/projet/my-shope/src/components/PostForm.js"],"names":["React","Component","connect","PostForm","handleSubmit","e","setState","nb","state","produit","getProduit","value","prix","getPrix","description","getDescription","somme","Intl","NumberFormat","format","data","id","Date","props","dispatch","type","console","log","file","imagePreviewUrl","preventDefault","reader","FileReader","target","files","onloadend","result","readAsDataURL","event","isNaN","err","document","getElementById","innerHTML","err1","input","_handleImageChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {connect} from 'react-redux'\n\nclass PostForm extends Component{\n    \n    constructor() {\n        super()\n        this.state = {\n            nb: 0,\n            file: '',\n            imagePreviewUrl: '',\n            value: 'Please write an essay about your favorite DOM element.'\n        }\n    }\n    handleSubmit = (e) => {\n        this.setState({\n            nb : this.state.nb + 1,\n        })\n\n        \n        const produit = this.getProduit.value;\n        const prix = this.getPrix.value;\n        const description = this.getDescription.value;\n\n        var somme =  new Intl.NumberFormat('de-DE').format(prix)\n\n        const data = {\n            id: new Date(),            \n            nb : this.state.nb,\n            produit,\n            somme,\n            description,\n        }\n        this.props.dispatch({\n            type:'ADD_POST',\n            data\n        });\n        this.getProduit.value = '';\n        this.getPrix.value = '';\n        this.getDescription.value = '';\n\n       console.log(data)\n        \n    }\n    _handleImageChange(e) {\n      e.preventDefault();\n  \n      let reader = new FileReader();\n      let file = e.target.files[0];\n  \n      reader.onloadend = () => {\n        this.setState({\n          file: file,\n          imagePreviewUrl: reader.result\n        });\n      }\n  \n      reader.readAsDataURL(file)\n      \n      console.log('file : ', file);\n      // console.log('frad : ', reader);\n      //console.log('reader : ', reader.readAsDataURL(file));\n    }\n    render(){\n        let {imagePreviewUrl} = this.state;\n    //let $imagePreview = null;\n    console.log('imagePreviewUrl : ', imagePreviewUrl);\n    if (imagePreviewUrl) {\n      //$imagePreview = (<img src={imagePreviewUrl} />);\n    }\n     else {\n      //$imagePreview = (<div className=\"previewText\">Please select an Image for Preview</div>);\n    }\n\n        return(\n            <center className={\"container\"} >\n                 <form onSubmit={event => {\n                    event.preventDefault()\n                    if (!this.getProduit.value || !this.getPrix.value) return\n\n                        if(isNaN(this.getPrix.value)){\n                            var err = document.getElementById('erreur')\n                            err.innerHTML = 'Entrer un nombre'\n                        }else{\n                            this.handleSubmit()\n                            var err1 = document.getElementById('erreur')\n                            err1.innerHTML = ''\n                        }\n                    //document.getElementById('imgPreview').innerHTML  = $imagePreview\n     \n                }} \n                    className={'nom'}\n                > \n                <table>\n                    <tr>\n                        <td><label className={'label'}>Produit</label></td>\n                        <td><input required type='text' ref={(input)=>this.getProduit = input} className={'input1'} /><br/></td>\n                    </tr>\n                    <tr>\n                        <td><label className={'label'}>Prix</label></td>\n                        <td>\n                            <input required type='text' ref={(input)=>this.getPrix = input} className={'input1'}/><br/> \n                            </td> \n                    </tr>\n                    <tr>\n                        <td><label className={'label'}>Description</label></td>\n                        <td>\n                            <p id='erreur' className={'erreur'}></p>\n                            <textarea rows=\"3\" required type='text' ref={(input)=>this.getDescription = input} className={'input1'}></textarea>\n                        </td>\n                    </tr>  \n                    <tr>\n                        <td colSpan=\"2\">\n                            <input className=\"fileInput\" \n                            type=\"file\" style=\"visibility:hidden;\" \n                            onChange={(e)=>this._handleImageChange(e)} />\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colSpan=\"2\">\n                            <button className={'ajout btn btn-primary'}  >Ajouter</button>\n                        </td>\n                    </tr>\n\n                </table>   \n                </form>\n            </center>\n        )\n    }\n}\nexport default connect()(PostForm)"]},"metadata":{},"sourceType":"module"}